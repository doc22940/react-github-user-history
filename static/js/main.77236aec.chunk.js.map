{"version":3,"sources":["reducers/form.js","reducers/table.js","api.js","app.js","index.js","store.js"],"names":["initialState","github_id","reducer","state","arguments","length","undefined","action","newState","Object","objectSpread","type","value","typed_github_id","history","error_response","loading","fetchHistoryAction","dispatch","url","axios","get","fetchHistory","then","response","data","catch","error","SelectIdForm","handleChange","_this","props","onInputChange","handleSubmit","event","onInputSubmit","preventDefault","react_default","a","createElement","Form","onSubmit","this","FormGroup","label","isRequired","fieldId","helperText","TextInput","id","onChange","ActionGroup","Button","variant","onClick","React","Component","EventsTable","message","status","statusText","Alert","title","caption","rows","map","e","repo","name","Table","cells","Header","Body","App","Fragment","Card","CardHeader","Title","size","CardBody","app_SelectIdForm","handleInputChange","handleInputSubmit","app_EventsTable","connect","rForm","rTable","input_value","store","rootReducer","combineReducers","FormReducer","TableReducer","createStore","applyMiddleware","thunk","createMyStore","ReactDOM","render","es","app","document","getElementById"],"mappings":"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","file":"static/js/main.77236aec.chunk.js","sourcesContent":["const initialState = {\n    github_id: '',\n};\n\nconst reducer = (state = initialState, action) => {\n    const newState = { ...state };\n    if (action.type === 'INPUT_CHANGE') {\n        newState.github_id = action.value;\n    }\n    return newState;\n}\n\nexport default reducer\n","import { fetchHistory } from './../api'\n\nconst initialState = {\n    typed_github_id: null,\n    history: [],\n    error_response: {},\n    loading: false\n};\n\nconst reducer = (state = initialState, action) => {\n    const newState = { ...state };\n    if (action.type === 'FETCH_HISTORY_LOADING') {\n        newState.loading = true;\n    }\n    if (action.type === 'FETCH_HISTORY_SUCCESS') {\n        newState.typed_github_id = action.github_id;\n        newState.history = action.value;\n        newState.error_response = {};\n        newState.loading = false;\n    }\n    if (action.type === 'FETCH_HISTORY_ERROR') {\n        newState.typed_github_id = '';\n        newState.history = [];\n        newState.error_response = action.value;\n        newState.loading = false;\n    }\n    return newState;\n}\n\nfunction fetchHistoryAction(github_id) {\n    return (dispatch) => {\n        dispatch({type: 'FETCH_HISTORY_LOADING'});\n        return fetchHistory(github_id)\n            .then(response => {\n                dispatch(\n                    {\n                        type: 'FETCH_HISTORY_SUCCESS',\n                        value: response.data,\n                        github_id: github_id,\n                    }\n                )\n            })\n            .catch(error => {\n                dispatch(\n                    {\n                        type: 'FETCH_HISTORY_ERROR',\n                        value: error.response\n                    }\n                )\n            })\n    }\n}\n\nexport default reducer\nexport {\n    fetchHistoryAction\n}\n","import axios from 'axios'\n\nfunction fetchHistory(github_id) {\n    const url = 'https://api.github.com/users/' + github_id + '/events';\n    return axios.get(url)\n}\n\nexport {\n    fetchHistory\n}\n","import React from 'react';\nimport { connect } from \"react-redux\";\n\nimport '@patternfly/react-core/dist/styles/base.css';\nimport { Form, FormGroup, ActionGroup, TextInput, Button } from '@patternfly/react-core';\nimport { Title, Card, CardHeader, CardBody } from '@patternfly/react-core';\nimport { Table, TableHeader, TableBody } from '@patternfly/react-table';\nimport { Alert } from '@patternfly/react-core';\n\nimport { fetchHistoryAction } from './reducers/table'\n\n\nclass SelectIdForm extends React.Component {\n\n    handleChange = (value) => {\n        this.props.onInputChange(value);\n    }\n\n    handleSubmit = (event) => {\n        this.props.onInputSubmit(this.props.github_id);\n        event.preventDefault();\n    }\n\n    render() {\n        return (\n            <Form onSubmit={this.handleSubmit}>\n                <FormGroup\n                    label=\"Required GitHub username\"\n                    isRequired\n                    fieldId=\"github-id\"\n                    helperText=\"Please provide the GitHub username\"\n                >\n                    <TextInput\n                        id=\"github-id\"\n                        type=\"text\"\n                        value={this.props.github_id}\n                        onChange={this.handleChange} />\n                </FormGroup>\n                <ActionGroup>\n                    <Button variant=\"primary\" onClick={this.handleSubmit}>Submit</Button>\n                </ActionGroup>\n            </Form>\n        );\n    }\n}\n\n\nclass EventsTable extends React.Component {\n    render() {\n        if (this.props.loading) {\n            return (<div><b>Loading ...</b></div>)\n        }\n        if ('status' in this.props.error_response) {\n            const message = \"Unable to fetch history. Server returned \" +\n                \"status: \" + this.props.error_response.status + \" with \" +\n                \"message: \" + this.props.error_response.statusText\n            return (\n                <Alert variant=\"info\" title={message} />\n            )\n        }\n        if (!this.props.typed_github_id) {\n            return (<div></div>)\n        }\n        const caption = \"History of user \" + this.props.typed_github_id\n        const columns = ['Event ID', 'Action Type', 'Repository']\n        const rows = this.props.history.map(\n            (e) => [e.id, e.type, e.repo.name])\n        return (\n            <Table caption={caption} cells={columns} rows={rows}>\n                <TableHeader />\n                <TableBody />\n            </Table>\n        );\n    }\n}\n\nclass App extends React.Component {\n    render() {\n        return (\n            <React.Fragment>\n                <Card>\n                    <CardHeader>\n                        <Title size=\"lg\">View 90 days history of a GitHub user</Title>\n                    </CardHeader>\n                    <CardBody>\n                        <SelectIdForm\n                            github_id={this.props.github_id}\n                            onInputChange={this.props.handleInputChange}\n                            onInputSubmit={this.props.handleInputSubmit} />\n                    </CardBody>\n                </Card>\n                <Card>\n                    <CardHeader></CardHeader>\n                    <CardBody>\n                        <EventsTable\n                            error_response={this.props.error_response}\n                            typed_github_id={this.props.typed_github_id}\n                            loading={this.props.loading}\n                            history={this.props.history} />\n                    </CardBody>\n                </Card>\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        github_id: state.rForm.github_id,\n        typed_github_id: state.rTable.typed_github_id,\n        history: state.rTable.history,\n        error_response: state.rTable.error_response,\n        loading: state.rTable.loading\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        handleInputChange: (input_value) => dispatch(\n            {\n                type: 'INPUT_CHANGE',\n                value: input_value\n            }),\n        handleInputSubmit: (github_id) => dispatch(\n            fetchHistoryAction(github_id)\n        )\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from \"react-redux\";\nimport {createMyStore} from './store'\nimport App from './app'\n\n// Install the app on a github page: https://medium.com/the-andela-way/how-to-deploy-your-react-application-to-github-pages-in-less-than-5-minutes-8c5f665a2d2a\n// TODO(fbo): Handle all history pages loading\n// TODO(fbo): Add checkbox to select the history type (pushEvent, Comment, ...)\n\nconst store = createMyStore()\n\nReactDOM.render(\n    <Provider store={store}><App /></Provider>,\n    document.getElementById('root')\n);\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport FormReducer from './reducers/form';\nimport TableReducer from './reducers/table';\n\nfunction createMyStore() {\n\n    const rootReducer = combineReducers({\n        rForm: FormReducer,\n        rTable: TableReducer\n    })\n\n    return createStore(\n        rootReducer, applyMiddleware(thunk))\n}\n\nexport {\n    createMyStore\n}\n"],"sourceRoot":""}